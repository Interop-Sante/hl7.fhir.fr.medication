@startuml

skinparam linetype ortho
skinparam rectangle {
  BackgroundColor White
  BorderColor Black
}

' Contexte
package "Informations contextuelles" {
  class FrCorePatient [[https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-patient]]
  class FrCoreOrganization [[https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-organization]]
  class FrCoreEncounter [[https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-encounter]]
  class FrCorePractitioner [[https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-practitioner]]
  class "Observation (*)" as Observation
}

package "MÃ©dicament prescrit" {
  class FrMedicationNonCompound [[./StructureDefinition-fr-medication-noncompound.html]]
  class FrMedicationCompound [[./StructureDefinition-fr-medication-compound.html]]
}

class "FrPatientMedicationRequest" [[./StructureDefinition-fr-inpatient-medicationrequest.html]]


' Notes pour les ValueSets
note right of FrPatientMedicationRequest
  ValueSet:
  - FRRouteOfAdministration
  - FRMethodOfAdministration
end note

note right of FrMedicationNonCompound
  ValueSet:
  - FRMedicationCode
  - MpSubstanceActive
end note

note right of FrMedicationCompound
  ValueSet:
  - FRMpDoseForm
end note

' Relations principales
FrPatientMedicationRequest --> FrCorePatient
FrPatientMedicationRequest --> FrCoreOrganization
FrPatientMedicationRequest --> FrCoreEncounter
FrPatientMedicationRequest --> FrCorePractitioner
FrPatientMedicationRequest --> Observation

FrPatientMedicationRequest --> FrMedicationNonCompound
FrPatientMedicationRequest --> FrMedicationCompound

FrMedicationNonCompound --> FrMedicationCompound

@enduml