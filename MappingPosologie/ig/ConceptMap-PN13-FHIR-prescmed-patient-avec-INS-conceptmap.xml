<?xml version="1.0" encoding="UTF-8"?>

<ConceptMap xmlns="http://hl7.org/fhir">
  <id value="PN13-FHIR-prescmed-patient-avec-INS-conceptmap"/>
  <text>
    <status value="generated"/><div xmlns="http://www.w3.org/1999/xhtml"><p class="res-header-id"><b>Generated Narrative: ConceptMap PN13-FHIR-prescmed-patient-avec-INS-conceptmap</b></p><a name="PN13-FHIR-prescmed-patient-avec-INS-conceptmap"> </a><a name="hcPN13-FHIR-prescmed-patient-avec-INS-conceptmap"> </a><a name="PN13-FHIR-prescmed-patient-avec-INS-conceptmap-en-US"> </a><p>Mapping from https://interopsante.org/pn13/xsd to <a href="https://hl7.fr/ig/fhir/core/2.0.1/StructureDefinition-fr-core-patient-ins.html">FR Core Patient INS Profile</a></p><br/><p><b>Group 1 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td colspan="2"><b>Source Concept Details</b></td><td><b>Relationship</b></td><td colspan="5"><b>Target Concept Details</b></td><td><b>Comment</b></td><td colspan="5"><b>Properties</b></td></tr><tr><td colspan="2"><b>Codes</b> from </td><td/><td colspan="2"><b>Codes</b> from </td><td><b>Patient.identifier.type.coding.code</b></td><td><b>Patient.identfier.use</b></td><td><b>Patient.identifier.type.coding.system</b></td><td/></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/Ipp</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.identifier.value</td><td style="border-left-width: 0px"></td><td>PI</td><td>usual</td><td>http://terminology.hl7.org/CodeSystem/v2-0203</td><td/></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/DI</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equivalent" title="equivalent">is equivalent to</a></td><td style="border-right-width: 0px">Patient.identifier.system</td><td style="border-left-width: 0px"></td><td/><td/><td/><td>Le domaine d'identification PN13 doit être exprimé sous le format uri pour alimenter patient.identifer.system. Par exemple, les domaines d'identification sous forme d'OID doivent être préfixés par urn:oid:</td></tr></table><hr/><p><b>Group 2 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td colspan="3"><b>Source Concept Details</b></td><td><b>Relationship</b></td><td colspan="6"><b>Target Concept Details</b></td><td colspan="6"><b>Properties</b></td></tr><tr><td colspan="2"><b>Codes</b> from </td><td><b>INS_OID</b></td><td/><td colspan="2"><b>Codes</b> from </td><td><b>Patient.identifier.system</b></td><td><b>Patient.identifier.type.coding.code</b></td><td><b>Patient.identfier.use</b></td><td><b>Patient.identifier.type.coding.system</b></td></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/INS</td><td style="border-left-width: 0px"></td><td>1.2.250.1.213.1.4.8</td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.identifier.value</td><td style="border-left-width: 0px"></td><td>urn:oid:1.2.250.1.213.1.4.8</td><td>INS-NIR</td><td>official</td><td>https://hl7.fr/ig/fhir/core/CodeSystem/fr-core-cs-v2-0203</td></tr></table><hr/><p><b>Group 3 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td colspan="3"><b>Source Concept Details</b></td><td><b>Relationship</b></td><td colspan="6"><b>Target Concept Details</b></td><td colspan="6"><b>Properties</b></td></tr><tr><td colspan="2"><b>Codes</b> from </td><td><b>INS_OID</b></td><td/><td colspan="2"><b>Codes</b> from </td><td><b>Patient.identifier.system</b></td><td><b>Patient.identifier.type.coding.code</b></td><td><b>Patient.identfier.use</b></td><td><b>Patient.identifier.type.coding.system</b></td></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/INS</td><td style="border-left-width: 0px"></td><td>1.2.250.1.213.1.4.9</td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.identifier.value</td><td style="border-left-width: 0px"></td><td>urn:oid:1.2.250.1.213.1.4.9</td><td>INS-NIA</td><td>official</td><td>https://hl7.fr/ig/fhir/core/CodeSystem/fr-core-cs-v2-0203</td></tr></table><hr/><p><b>Group 4 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td colspan="2"><b>Source Concept Details</b></td><td><b>Relationship</b></td><td colspan="4"><b>Target Concept Details</b></td><td colspan="4"><b>Properties</b></td></tr><tr><td colspan="2"><b>Codes</b> from </td><td/><td colspan="2"><b>Codes</b> from </td><td><b>Patient.name.extension.url</b></td><td><b>Patient.name.use</b></td></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/Nom_naissance</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.name.family</td><td style="border-left-width: 0px"></td><td/><td>official</td></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/Premier_prénom</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.name.given</td><td style="border-left-width: 0px"></td><td/><td/></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/Prénoms</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.name.extension.valueString</td><td style="border-left-width: 0px"></td><td>https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-patient-birth-list-given-name</td><td/></tr></table><hr/><p><b>Group 5 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td colspan="2"><b>Source Concept Details</b></td><td><b>Relationship</b></td><td colspan="3"><b>Target Concept Details</b></td><td colspan="3"><b>Properties</b></td></tr><tr><td colspan="2"><b>Codes</b> from </td><td/><td colspan="2"><b>Codes</b> from </td><td><b>Patient.name.use</b></td></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/Nom_usuel</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.name.family</td><td style="border-left-width: 0px"></td><td>usual</td></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/Prénom_usuel</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.name.given</td><td style="border-left-width: 0px"></td><td/></tr></table><hr/><p><b>Group 6 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td><b>Source Code</b></td><td><b>Relationship</b></td><td><b>Target Code</b></td><td><b>Comment</b></td></tr><tr><td>Messages/M_prescription_médicaments/Patient/Date_naissance</td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equivalent" title="equivalent">is equivalent to</a></td><td>Patient.birthDate</td><td>La date doit être transformée du format AAAAMMJJ[HH[MM[SS]]] au format YYYY-MM-DDTHH:MM:SS+ZZ:ZZ. L'offset de fuseau horaire n'est à intégrer que si au moin une heure est fournie.</td></tr><tr><td>Messages/M_prescription_médicaments/Patient/Sexe</td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equivalent" title="equivalent">is equivalent to</a></td><td>Patient.gender</td><td>le code est à traduire en utilisant MedicationRequest.medicationReference.reference</td></tr></table><hr/><p><b>Group 7 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td colspan="2"><b>Source Concept Details</b></td><td><b>Relationship</b></td><td colspan="4"><b>Target Concept Details</b></td><td><b>Comment</b></td><td colspan="4"><b>Properties</b></td></tr><tr><td colspan="2"><b>Codes</b> from </td><td/><td colspan="2"><b>Codes</b> from </td><td><b>Patient.extension.url</b></td><td><b>Patient.extension.valueAddress.extension.url</b></td><td/></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/Lieu_naissance</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.extension.valueAddress.extension.valueCoding.code</td><td style="border-left-width: 0px"></td><td>http://hl7.org/fhir/StructureDefinition/patient-birthPlace</td><td>https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-address-insee-code</td><td>L'élément FHIR Patient.extension.valueAddress.extension.valueCoding.system dépend de la valeur du code. Pour les codes commençant par 99, le system est https://mos.esante.gouv.fr/NOS/TRE_R20-Pays/FHIR/TRE-R13-Pays ; pour le code 01 https://mos.esante.gouv.fr/NOS/TRE_R302-ContexteCodeComplementaire/FHIR/TRE-R302-ContexteCodeComplementaire; pour les autres codes le system est est https://mos.esante.gouv.fr/NOS/TRE_R13-Commune/FHIR/TRE-R13-Commune</td></tr></table><hr/><p><b>Group 8 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td colspan="2"><b>Source Concept Details</b></td><td><b>Relationship</b></td><td colspan="5"><b>Target Concept Details</b></td><td colspan="5"><b>Properties</b></td></tr><tr><td colspan="2"><b>Codes</b> from </td><td/><td colspan="2"><b>Codes</b> from </td><td><b>Patient.extension.url</b></td><td><b>Patient.extension.extension.valueCoding.system</b></td><td><b>Patient.extension.extension.url</b></td></tr><tr><td style="border-right-width: 0px">Messages/M_prescription_médicaments/Patient/Statut_idpat</td><td style="border-left-width: 0px"></td><td><a href="http://hl7.org/fhir/extensions/5.1.0/CodeSystem-concept-map-equivalence.html#equal" title="equal">is equal to</a></td><td style="border-right-width: 0px">Patient.extension.extension.valueCoding.code</td><td style="border-left-width: 0px"></td><td>https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-identity-reliability</td><td>https://hl7.fr/ig/fhir/core/CodeSystem/fr-core-cs-v2-0445</td><td>identityStatus</td></tr></table><hr/><p><b>Group 9 </b>Mapping from <code>unspecified code system</code> to <code>unspecified code system</code></p><table class="grid"><tr><td><b>Source Code</b></td><td><b>Relationship</b></td><td><b>Target Code</b></td></tr><tr><td>Messages/M_prescription_médicaments/Patient/Date_lunaire</td><td colspan="2" style="background-color: #efefef">(not mapped)</td></tr></table></div>
  </text>
  <url value="https://hl7.fr/fhir/fr/medication/ConceptMap/PN13-FHIR-prescmed-patient-avec-INS-conceptmap"/>
  <version value="0.1.0"/>
  <name value="FrPN13FHIRMedicationPrescriptionPatientINSConceptMap"/>
  <title value="Conversion PN13 vers FHIR pour un patient avec INS qualifiée d'une prescription de médicaments"/>
  <status value="draft"/>
  <date value="2024-11-17T10:15:13+00:00"/>
  <publisher value="Interop'Santé"/>
  <contact>
    <name value="Interop'Santé"/>
    <telecom>
      <system value="url"/>
      <value value="http://interopsante.org/"/>
    </telecom>
  </contact>
  <description value="ConceptMap pour la conversion PN13 vers FHIR d'un patient avec INS qualifiée d'une prescritpion de médicament"/>
  <sourceUri value="https://interopsante.org/pn13/xsd"/>
  <targetUri value="https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-patient-ins"/>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Ipp"/>
      <target>
        <code value="Patient.identifier.value"/>
        <equivalence value="equal"/>
        <product>
          <property value="Patient.identfier.use"/>
          <value value="usual"/>
        </product>
        <product>
          <property value="Patient.identifier.type.coding.code"/>
          <value value="PI"/>
        </product>
        <product>
          <property value="Patient.identifier.type.coding.system"/>
          <value value="http://terminology.hl7.org/CodeSystem/v2-0203"/>
        </product>
      </target>
    </element>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/DI"/>
      <target>
        <code value="Patient.identifier.system"/>
        <equivalence value="equivalent"/>
        <comment value="Le domaine d'identification PN13 doit être exprimé sous le format uri pour alimenter patient.identifer.system. Par exemple, les domaines d'identification sous forme d'OID doivent être préfixés par urn:oid:"/>
      </target>
    </element>
  </group>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/INS"/>
      <target>
        <code value="Patient.identifier.value"/>
        <equivalence value="equal"/>
        <dependsOn>
          <property value="M_prescription_médicaments/Patient/INS_OID"/>
          <value value="1.2.250.1.213.1.4.8"/>
        </dependsOn>
        <product>
          <property value="Patient.identfier.use"/>
          <value value="official"/>
        </product>
        <product>
          <property value="Patient.identifier.type.coding.code"/>
          <value value="INS-NIR"/>
        </product>
        <product>
          <property value="Patient.identifier.type.coding.system"/>
          <value value="https://hl7.fr/ig/fhir/core/CodeSystem/fr-core-cs-v2-0203"/>
        </product>
        <product>
          <property value="Patient.identifier.system"/>
          <value value="urn:oid:1.2.250.1.213.1.4.8"/>
        </product>
      </target>
    </element>
  </group>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/INS"/>
      <target>
        <code value="Patient.identifier.value"/>
        <equivalence value="equal"/>
        <dependsOn>
          <property value="M_prescription_médicaments/Patient/INS_OID"/>
          <value value="1.2.250.1.213.1.4.9"/>
        </dependsOn>
        <product>
          <property value="Patient.identfier.use"/>
          <value value="official"/>
        </product>
        <product>
          <property value="Patient.identifier.type.coding.code"/>
          <value value="INS-NIA"/>
        </product>
        <product>
          <property value="Patient.identifier.type.coding.system"/>
          <value value="https://hl7.fr/ig/fhir/core/CodeSystem/fr-core-cs-v2-0203"/>
        </product>
        <product>
          <property value="Patient.identifier.system"/>
          <value value="urn:oid:1.2.250.1.213.1.4.9"/>
        </product>
      </target>
    </element>
  </group>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Nom_naissance"/>
      <target>
        <code value="Patient.name.family"/>
        <equivalence value="equal"/>
        <product>
          <property value="Patient.name.use"/>
          <value value="official"/>
        </product>
      </target>
    </element>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Premier_prénom"/>
      <target>
        <code value="Patient.name.given"/>
        <equivalence value="equal"/>
      </target>
    </element>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Prénoms"/>
      <target>
        <code value="Patient.name.extension.valueString"/>
        <equivalence value="equal"/>
        <product>
          <property value="Patient.name.extension.url"/>
          <value value="https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-patient-birth-list-given-name"/>
        </product>
      </target>
    </element>
  </group>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Nom_usuel"/>
      <target>
        <code value="Patient.name.family"/>
        <equivalence value="equal"/>
        <product>
          <property value="Patient.name.use"/>
          <value value="usual"/>
        </product>
      </target>
    </element>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Prénom_usuel"/>
      <target>
        <code value="Patient.name.given"/>
        <equivalence value="equal"/>
      </target>
    </element>
  </group>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Date_naissance"/>
      <target>
        <code value="Patient.birthDate"/>
        <equivalence value="equivalent"/>
        <comment value="La date doit être transformée du format AAAAMMJJ[HH[MM[SS]]] au format YYYY-MM-DDTHH:MM:SS+ZZ:ZZ. L'offset de fuseau horaire n'est à intégrer que si au moin une heure est fournie."/>
      </target>
    </element>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Sexe"/>
      <target>
        <code value="Patient.gender"/>
        <equivalence value="equivalent"/>
        <comment value="le code est à traduire en utilisant MedicationRequest.medicationReference.reference"/>
      </target>
    </element>
  </group>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Lieu_naissance"/>
      <target>
        <code value="Patient.extension.valueAddress.extension.valueCoding.code"/>
        <equivalence value="equal"/>
        <comment value="L'élément FHIR Patient.extension.valueAddress.extension.valueCoding.system dépend de la valeur du code. Pour les codes commençant par 99, le system est https://mos.esante.gouv.fr/NOS/TRE_R20-Pays/FHIR/TRE-R13-Pays ; pour le code 01 https://mos.esante.gouv.fr/NOS/TRE_R302-ContexteCodeComplementaire/FHIR/TRE-R302-ContexteCodeComplementaire; pour les autres codes le system est est https://mos.esante.gouv.fr/NOS/TRE_R13-Commune/FHIR/TRE-R13-Commune"/>
        <product>
          <property value="Patient.extension.url"/>
          <value value="http://hl7.org/fhir/StructureDefinition/patient-birthPlace"/>
        </product>
        <product>
          <property value="Patient.extension.valueAddress.extension.url"/>
          <value value="https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-address-insee-code"/>
        </product>
      </target>
    </element>
  </group>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Statut_idpat"/>
      <target>
        <code value="Patient.extension.extension.valueCoding.code"/>
        <equivalence value="equal"/>
        <product>
          <property value="Patient.extension.url"/>
          <value value="https://hl7.fr/ig/fhir/core/StructureDefinition/fr-core-identity-reliability"/>
        </product>
        <product>
          <property value="Patient.extension.extension.url"/>
          <value value="identityStatus"/>
        </product>
        <product>
          <property value="Patient.extension.extension.valueCoding.system"/>
          <value value="https://hl7.fr/ig/fhir/core/CodeSystem/fr-core-cs-v2-0445"/>
        </product>
      </target>
    </element>
  </group>
  <group>
    <element>
      <code value="Messages/M_prescription_médicaments/Patient/Date_lunaire"/>
      <target>
        <equivalence value="unmatched"/>
        <comment value="Les dates luanires ne sont pas à indiquer dans les ressources FHIR"/>
      </target>
    </element>
  </group>
</ConceptMap>